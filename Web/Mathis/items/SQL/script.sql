-- Adminer 4.7.7 MySQL dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

SET NAMES utf8mb4;

CREATE DATABASE `clickncook` /*!40100 DEFAULT CHARACTER SET utf8mb4 */;
USE `clickncook`;

DROP TABLE IF EXISTS `ADVANTAGE`;
CREATE TABLE `ADVANTAGE` (
  `idFranchisee` int(11) NOT NULL,
  `idClient` int(11) NOT NULL,
  `advantage` int(11) DEFAULT NULL,
  PRIMARY KEY (`idFranchisee`,`idClient`),
  KEY `fk_ADVANTAGE_FRANCHISEE` (`idFranchisee`),
  KEY `fk_ADVANTAGE_CLIENT` (`idClient`),
  CONSTRAINT `fk_ADVANTAGE_CLIENT` FOREIGN KEY (`idClient`) REFERENCES `CLIENT` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_ADVANTAGE_FRANCHISEE` FOREIGN KEY (`idFranchisee`) REFERENCES `FRANCHISEE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `BELONGIN`;
CREATE TABLE `BELONGIN` (
  `idWarehouse` int(11) NOT NULL,
  `idItem` int(11) NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  PRIMARY KEY (`idWarehouse`,`idItem`),
  KEY `fk_table3_ITEM1` (`idItem`),
  CONSTRAINT `fk_TABLE3_ITEM1` FOREIGN KEY (`idItem`) REFERENCES `ITEM` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_TABLE3_WAREHOUSE1` FOREIGN KEY (`idWarehouse`) REFERENCES `WAREHOUSE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `BELONGOUT`;
CREATE TABLE `BELONGOUT` (
  `idItem` int(11) NOT NULL,
  `idOut` int(11) NOT NULL,
  PRIMARY KEY (`idItem`,`idOut`),
  KEY `fk_table4_ITEMOUTOFWAREHOUSE1` (`idOut`),
  CONSTRAINT `fk_TABLE4_ITEMOUTOFWAREHOUSE1` FOREIGN KEY (`idOut`) REFERENCES `ITEMOUTOFWAREHOUSE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_TABLE4_OUTOFWAREHOUSE1` FOREIGN KEY (`idItem`) REFERENCES `OUTOFWAREHOUSE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `BREAKDOWN`;
CREATE TABLE `BREAKDOWN` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `date` datetime DEFAULT NULL,
  `description` text,
  `repaired` tinyint(4) DEFAULT NULL,
  `price` float DEFAULT NULL,
  `idTruck` int(11) NOT NULL,
  PRIMARY KEY (`id`,`idTruck`),
  KEY `fk_Breakdown_TRUCK1` (`idTruck`),
  CONSTRAINT `fk_BREAKDOWN_TRUCK1` FOREIGN KEY (`idTruck`) REFERENCES `TRUCK` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `CLIENT`;
CREATE TABLE `CLIENT` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `lastName` varchar(50) DEFAULT NULL,
  `firstName` varchar(50) DEFAULT NULL,
  `email` varchar(384) DEFAULT NULL,
  `pwd` varchar(500) DEFAULT NULL,
  `contactNumber` varchar(15) DEFAULT NULL,
  `address` varchar(255) DEFAULT NULL,
  `active` tinyint(4) DEFAULT NULL,
  `advantage` tinyint(4) DEFAULT NULL,
  `verif_key` char(32) DEFAULT NULL,
  `tmp_password` varchar(500) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `CONTAINSDISHMENU`;
CREATE TABLE `CONTAINSDISHMENU` (
  `idDish` int(11) NOT NULL,
  `idMenu` int(11) NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  PRIMARY KEY (`idDish`,`idMenu`),
  KEY `fk_Contains_MENU1` (`idMenu`),
  CONSTRAINT `fk_CONTAINS_DISH2` FOREIGN KEY (`idDish`) REFERENCES `DISH` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTAINS_MENU1` FOREIGN KEY (`idMenu`) REFERENCES `MENU` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `CONTAINSDISHMENUCLIENT`;
CREATE TABLE `CONTAINSDISHMENUCLIENT` (
  `idDishClient` int(11) NOT NULL,
  `idMenuClient` int(11) NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  PRIMARY KEY (`idDishClient`,`idMenuClient`),
  KEY `fk_CONTAINS_MENUCLIENT1` (`idMenuClient`),
  CONSTRAINT `fk_CONTAINS_DISHCLIENT2` FOREIGN KEY (`idDishClient`) REFERENCES `DISHCLIENT` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTAINS_MENUCLIENT1` FOREIGN KEY (`idMenuClient`) REFERENCES `MENUCLIENT` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `CONTAINSDISHSALE`;
CREATE TABLE `CONTAINSDISHSALE` (
  `idDish` int(11) NOT NULL,
  `idSale` int(11) NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  PRIMARY KEY (`idDish`,`idSale`),
  KEY `fk_Contains_SALE1` (`idSale`),
  CONSTRAINT `fk_CONTAINS_DISH3` FOREIGN KEY (`idDish`) REFERENCES `DISH` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTAINS_SALE1` FOREIGN KEY (`idSale`) REFERENCES `SALE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `CONTAINSDISHSALECLIENT`;
CREATE TABLE `CONTAINSDISHSALECLIENT` (
  `idDishClient` int(11) NOT NULL,
  `idPurchaseClient` int(11) NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  PRIMARY KEY (`idDishClient`,`idPurchaseClient`),
  KEY `fk_CONTAINS_SALECLIENT1` (`idPurchaseClient`),
  CONSTRAINT `fk_CONTAINS_DISHCLIENT3` FOREIGN KEY (`idDishClient`) REFERENCES `DISHCLIENT` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTAINS_PURCHASECLIENT1` FOREIGN KEY (`idPurchaseClient`) REFERENCES `PURCHASECLIENT` (`bill_numberClient`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `CONTAINSIN`;
CREATE TABLE `CONTAINSIN` (
  `idPurchase` int(11) NOT NULL,
  `iditem` int(11) NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  `idWarehouse` int(11) NOT NULL,
  PRIMARY KEY (`iditem`,`idPurchase`),
  KEY `fk_Contains_PURCHASE1` (`idPurchase`) USING BTREE,
  KEY `fk_Contains_ITEM1` (`iditem`) USING BTREE,
  CONSTRAINT `fk_CONTAINS_ITEM1` FOREIGN KEY (`iditem`) REFERENCES `ITEM` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTAINS_PURCHASE1` FOREIGN KEY (`idPurchase`) REFERENCES `PURCHASE` (`bill_number`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `CONTAINSINGREDIENTSDISH`;
CREATE TABLE `CONTAINSINGREDIENTSDISH` (
  `idIngredient` int(11) NOT NULL,
  `idDish` int(11) NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  PRIMARY KEY (`idIngredient`,`idDish`),
  KEY `fk_Contains_DISH1` (`idDish`),
  CONSTRAINT `fk_CONTAINS_DISH1` FOREIGN KEY (`idDish`) REFERENCES `DISH` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTAINS_INGREDIENT1` FOREIGN KEY (`idIngredient`) REFERENCES `INGREDIENT` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `CONTAINSINGREDIENTSDISHCLIENT`;
CREATE TABLE `CONTAINSINGREDIENTSDISHCLIENT` (
  `idIngredientClient` int(11) NOT NULL,
  `idDishClient` int(11) NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  PRIMARY KEY (`idIngredientClient`,`idDishClient`),
  KEY `fk_CONTAINS_DISHCLIENT1` (`idDishClient`),
  CONSTRAINT `fk_CONTAINS_DISHCLIENT1` FOREIGN KEY (`idDishClient`) REFERENCES `DISHCLIENT` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTAINS_INGREDIENTCLIENT1` FOREIGN KEY (`idIngredientClient`) REFERENCES `INGREDIENTCLIENT` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `CONTAINSMENUSALE`;
CREATE TABLE `CONTAINSMENUSALE` (
  `idMenu` int(11) NOT NULL,
  `idSale` int(11) NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  PRIMARY KEY (`idMenu`,`idSale`),
  KEY `fk_Contains_SALE2` (`idSale`),
  CONSTRAINT `fk_CONTAINS_MENU2` FOREIGN KEY (`idMenu`) REFERENCES `MENU` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTAINS_SALE2` FOREIGN KEY (`idSale`) REFERENCES `SALE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `CONTAINSMENUSALECLIENT`;
CREATE TABLE `CONTAINSMENUSALECLIENT` (
  `idMenuClient` int(11) NOT NULL,
  `idPurchaseClient` int(11) NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  PRIMARY KEY (`idMenuClient`,`idPurchaseClient`),
  KEY `fk_CONTAINS_SALECLIENT1` (`idPurchaseClient`),
  CONSTRAINT `fk_CONTAINS_MENUCLIENT2` FOREIGN KEY (`idMenuClient`) REFERENCES `MENUCLIENT` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTAINS_PURCHASECLIENT2` FOREIGN KEY (`idPurchaseClient`) REFERENCES `PURCHASECLIENT` (`bill_numberClient`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `CONTAINSOUT`;
CREATE TABLE `CONTAINSOUT` (
  `idPurchase` int(11) NOT NULL,
  `idItem` int(11) NOT NULL,
  `quantity` int(11) DEFAULT NULL,
  PRIMARY KEY (`idPurchase`,`idItem`),
  KEY `fk_Contains_ITEMOUTOFWAREHOUSE1` (`idItem`),
  CONSTRAINT `fk_CONTAINS_ITEMOUTOFWAREHOUSE1` FOREIGN KEY (`idItem`) REFERENCES `ITEMOUTOFWAREHOUSE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_TABLE2_PURCHASEOUTOFWAREHOUSE1` FOREIGN KEY (`idPurchase`) REFERENCES `PURCHASEOUTOFWAREHOUSE` (`bill_numberOut`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `DISH`;
CREATE TABLE `DISH` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `price` float DEFAULT NULL,
  `quantity` int(11) DEFAULT NULL,
  `idFranchisee` int(11) DEFAULT NULL,
  `type` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `DISHCLIENT`;
CREATE TABLE `DISHCLIENT` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `price` float DEFAULT NULL,
  `idClient` int(11) DEFAULT NULL,
  `verify` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `EVENT`;
CREATE TABLE `EVENT` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(45) DEFAULT NULL,
  `description` varchar(1000) DEFAULT NULL,
  `location` varchar(200) DEFAULT NULL,
  `idFranchisee` int(11) NOT NULL,
  `idClient` int(11) NOT NULL,
  PRIMARY KEY (`id`,`idFranchisee`,`idClient`),
  KEY `fk_EVENT_FRANCHISEE1` (`idFranchisee`),
  KEY `fk_EVENT_CLIENT1` (`idClient`),
  CONSTRAINT `fk_EVENT_CLIENT1` FOREIGN KEY (`idClient`) REFERENCES `CLIENT` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_EVENT_FRANCHISEE1` FOREIGN KEY (`idFranchisee`) REFERENCES `FRANCHISEE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `FRANCHISE`;
CREATE TABLE `FRANCHISE` (
  `number` int(11) NOT NULL AUTO_INCREMENT,
  `date` datetime DEFAULT NULL,
  `idFranchisee` int(11) NOT NULL,
  PRIMARY KEY (`number`,`idFranchisee`),
  KEY `fk_Franchise_FRANCHISEE1` (`idFranchisee`),
  CONSTRAINT `fk_FRANCHISE_FRANCHISEE1` FOREIGN KEY (`idFranchisee`) REFERENCES `FRANCHISEE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `FRANCHISEE`;
CREATE TABLE `FRANCHISEE` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `socialSecurityNumber` varchar(15) DEFAULT NULL,
  `driversLicenceReference` varchar(12) DEFAULT NULL,
  `active` tinyint(4) DEFAULT NULL,
  `lastName` varchar(50) DEFAULT NULL,
  `firstName` varchar(50) DEFAULT NULL,
  `dateOfBirth` varchar(10) DEFAULT NULL,
  `email` varchar(384) DEFAULT NULL,
  `contactNumber` varchar(15) DEFAULT NULL,
  `admin` tinyint(4) DEFAULT NULL,
  `entranceFee` tinyint(4) DEFAULT NULL,
  `password` varchar(500) DEFAULT NULL,
  `nameFranchise` varchar(255) DEFAULT NULL,
  `description` text,
  `stripeKey` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `FRANCHISEE` (`id`, `socialSecurityNumber`, `driversLicenceReference`, `active`, `lastName`, `firstName`, `dateOfBirth`, `email`, `contactNumber`, `admin`, `entranceFee`, `password`, `nameFranchise`, `description`, `stripeKey`) VALUES
(1,	'012345678901234',	'012345678901',	1,	'Support',	'ClickNCook',	'27/06/2020',	'clickncook@gmail.com',	'0606060606',	1,	1,	'$2y$10$pHzXNcGuC2mzEJuX/DyThuGAUy1FnVhA.f8mFAYmecpDYgeDB0bLW',	NULL,	NULL,	NULL),
(10,	'012345678912345',	'012345678912',	1,	'geoffrey',	'lavigne',	'2000-10-02',	'lavigne.geoff@gmail.com',	'0673386786',	0,	1,	'$2y$10$14fuhGHF5d1gjsSYKlRFQ.68L..Li9UCZAIuL.ndVtfMlPWunJQee',	'test',	'coucou',	'pk_test_51H17oYIZU3A4Avm3T8J03x5nDvSVvhwPve3CFcCzVW47AXfgZQBdUuNIQjgMNM1UWsc7yJwrqEfOOXTwrGSBxWfB00f1Ayzj4V');

DROP TABLE IF EXISTS `INGREDIENT`;
CREATE TABLE `INGREDIENT` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `quantity` int(11) DEFAULT NULL,
  `idFranchisee` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `INGREDIENTCLIENT`;
CREATE TABLE `INGREDIENTCLIENT` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `idClient` int(11) DEFAULT NULL,
  `verify` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `ITEM`;
CREATE TABLE `ITEM` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `price` float DEFAULT NULL,
  `product_status` tinyint(4) DEFAULT NULL,
  `dish` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `ITEMOFTRUCK`;
CREATE TABLE `ITEMOFTRUCK` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `quantity` int(11) DEFAULT NULL,
  `idTruck` int(11) NOT NULL,
  PRIMARY KEY (`id`,`idTruck`),
  KEY `fk_ITEMOFTRUCK_TRUCK1` (`idTruck`),
  CONSTRAINT `fk_ITEMOFTRUCK_TRUCK1` FOREIGN KEY (`idTruck`) REFERENCES `TRUCK` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `ITEMOUTOFWAREHOUSE`;
CREATE TABLE `ITEMOUTOFWAREHOUSE` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `price` float DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `MAINTENANCE`;
CREATE TABLE `MAINTENANCE` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `date` datetime DEFAULT NULL,
  `description` text,
  `garageName` varchar(255) DEFAULT NULL,
  `age` int(11) DEFAULT NULL,
  `mileage` float DEFAULT NULL,
  `price` float DEFAULT NULL,
  `idTruck` int(11) NOT NULL,
  PRIMARY KEY (`id`,`idTruck`),
  KEY `fk_MAINTENANCE_TRUCK1` (`idTruck`),
  CONSTRAINT `fk_MAINTENANCE_TRUCK1` FOREIGN KEY (`idTruck`) REFERENCES `TRUCK` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `MENU`;
CREATE TABLE `MENU` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `price` float DEFAULT NULL,
  `idFranchisee` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `MENUCLIENT`;
CREATE TABLE `MENUCLIENT` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `price` float DEFAULT NULL,
  `idClient` int(11) DEFAULT NULL,
  `verify` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `OUTOFWAREHOUSE`;
CREATE TABLE `OUTOFWAREHOUSE` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `latitude` float DEFAULT NULL,
  `longitude` float DEFAULT NULL,
  `address` varchar(255) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `PURCHASE`;
CREATE TABLE `PURCHASE` (
  `bill_number` int(11) NOT NULL AUTO_INCREMENT,
  `date` datetime DEFAULT NULL,
  `price` float DEFAULT NULL,
  `idFranchisee` int(11) NOT NULL,
  PRIMARY KEY (`bill_number`) USING BTREE,
  KEY `fk_PURCHASE_FRANCHISEE` (`idFranchisee`),
  CONSTRAINT `fk_PURCHASE_FRANCHISEE` FOREIGN KEY (`idFranchisee`) REFERENCES `FRANCHISEE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `PURCHASECLIENT`;
CREATE TABLE `PURCHASECLIENT` (
  `bill_numberClient` int(11) NOT NULL AUTO_INCREMENT,
  `date` datetime DEFAULT NULL,
  `price` float DEFAULT NULL,
  `idClient` int(11) NOT NULL,
  `idFranchisee` int(11) DEFAULT NULL,
  PRIMARY KEY (`bill_numberClient`,`idClient`),
  KEY `fk_PURCHASECLIENT_CLIENT1` (`idClient`),
  CONSTRAINT `fk_PURCHASECLIENT_CLIENT1` FOREIGN KEY (`idClient`) REFERENCES `CLIENT` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `PURCHASEOUTOFWAREHOUSE`;
CREATE TABLE `PURCHASEOUTOFWAREHOUSE` (
  `bill_numberOut` int(11) NOT NULL AUTO_INCREMENT,
  `date` datetime DEFAULT NULL,
  `price` float DEFAULT NULL,
  `idFranchisee` int(11) NOT NULL,
  PRIMARY KEY (`bill_numberOut`,`idFranchisee`),
  KEY `fk_PURCHASEOUTOFWAREHOUSE_FRANCHISEE1` (`idFranchisee`),
  CONSTRAINT `fk_PURCHASEOUTOFWAREHOUSE_FRANCHISEE1` FOREIGN KEY (`idFranchisee`) REFERENCES `FRANCHISEE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `SALE`;
CREATE TABLE `SALE` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `date` datetime DEFAULT NULL,
  `price` float DEFAULT NULL,
  `idFranchisee` int(11) NOT NULL,
  PRIMARY KEY (`id`,`idFranchisee`),
  KEY `fk_Sale_FRANCHISEE1` (`idFranchisee`),
  CONSTRAINT `fk_SALE_FRANCHISEE1` FOREIGN KEY (`idFranchisee`) REFERENCES `FRANCHISEE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `TRUCK`;
CREATE TABLE `TRUCK` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `location` varchar(255) DEFAULT NULL,
  `carRegistrationDocument` varchar(15) DEFAULT NULL,
  `idFranchisee` int(11) NOT NULL,
  `registration` char(20) NOT NULL,
  PRIMARY KEY (`id`,`idFranchisee`),
  KEY `fk_Truck_FRANCHISEE1` (`idFranchisee`),
  CONSTRAINT `fk_TRUCK_FRANCHISEE1` FOREIGN KEY (`idFranchisee`) REFERENCES `FRANCHISEE` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


DROP TABLE IF EXISTS `WAREHOUSE`;
CREATE TABLE `WAREHOUSE` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `latitude` float DEFAULT NULL,
  `lontitude` float DEFAULT NULL,
  `address` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


-- 2020-07-05 10:37:16